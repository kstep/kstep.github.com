title: "Первое правило <del>волше</del> программиста"
date: 15 Jul 2009 00:00:00 +0300
extends: default.liquid
---
Никогда не пиши код ночью, когда очень устал и хочется спать.

Давно хотел прикрутить к блогу комментарии: ядро это дело поддерживает, нужна была только связка в контроллерах и шаблоны. Выкроил для этого вечер, посидел и прикрутил на скорую руку. В итоге [Саня](http://www.notengine.ru/) с ходу нашёл в комментах XSS-дыру размером с гараж: я совсем забыл про проверку ввода. Пофиксил тоже на скорую руку, наиболее простым и жёстким способом. Теперь комментарии есть, но ВСЕ теги обрезаются.

Вполне возможно в скором времени прикручу XSLT-фильтр по совету Сани.
